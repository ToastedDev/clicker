<!doctype html>
<html lang="en">
  <head>
    <%- include('../partials/head.ejs', { title: "Country Leaderboard" }) %>
  </head>
  <style>
    table {
      background-color: #ff6900;
      color: black;
      padding: 1rem;
      border-radius: 5px;
      width: 100%;
      box-shadow: 4px 4px 0px 0px black;
      font-family: "Inter", sans-serif;
      border-collapse: collapse;
      & > tbody td,
      & > thead th {
        padding: 1rem;
      }
    }

    .country {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
  </style>
  <body>
    <main>
      <div
        style="
          display: flex;
          align-items: center;
          gap: 0.5rem;
          text-align: center;
          margin-inline: auto;
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="56"
          height="56"
          viewBox="0 0 14 14"
          style="color: #ff6900"
        >
          <g fill="currentColor">
            <path
              d="M9.5 4.5A2.5 2.5 0 0 0 7 2H2.5A2.5 2.5 0 0 0 1 6.5v5a1 1 0 0 0 1 1h5.5a1 1 0 0 0 1-1v-5a2.49 2.49 0 0 0 1-2"
            ></path>
            <path
              fill-rule="evenodd"
              d="M10.695 2.97a3.99 3.99 0 0 1-.226 3.525H13l.008-.001A2.49 2.49 0 0 0 14 4.5A2.5 2.5 0 0 0 11.5 2h-1.377c.235.294.428.62.572.97M13 7.743h-3V11.5a2.5 2.5 0 0 1-.209 1H12a1 1 0 0 0 1-1z"
              clip-rule="evenodd"
            ></path>
          </g>
        </svg>
        <h1
          style="
            font-size: 2rem;
            color: #ff6900;
            font-family: &quot;Inter&quot;, sans-serif;
            letter-spacing: -0.05em;
          "
        >
          Country Leaderboard
        </h1>
      </div>
      <a
        href="/"
        class="btn btn-card"
        style="
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: center;
          gap: 0.25rem;
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          style="width: 1.25rem; height: 1.25rem; margin-right: 0.25rem"
        >
          <path d="m12 19-7-7 7-7" />
          <path d="M19 12H5" />
        </svg>
        Go back to clicker
      </a>
      <table>
        <thead>
          <tr>
            <th style="text-align: center">Rank</th>
            <th style="text-align: left; line-height: 1.5em">Country</th>
            <th style="text-align: center">Clicks</th>
          </tr>
        </thead>
        <tbody>
          <% for(let i = 0; i < countries.length; i++) { %>
          <% const country = countries[i] %>
          <tr>
            <td style="text-align: center">#<%= i + 1 %></td>
            <td class="country">
              <img
                src="<%= country.id === 'XX' ? 'https://preview.redd.it/the-flag-exists-but-we-dont-know-what-it-looks-like-flag-on-v0-5ilwz1vxv50b1.png?width=640&crop=smart&auto=webp&s=b24df479fdaf0747265c9cf12a20d9cb811c18bb' : `https://flagcdn.com/w80/${country.id.toLowerCase()}.png` %>"
                alt="<%= country.name %>"
                width="40"
                height="20"
                style="object-fit: cover"
              />
              <p><%= country.name %></p>
            </td>
            <td style="text-align: center">
              <%= country.count.toLocaleString() %>
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </main>
  </body>
</html>
